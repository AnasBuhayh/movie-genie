<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="AI-powered movie recommendation system - Complete learning reference"><meta name=author content="Movie Genie Team"><link href=https://your-username.github.io/movie-genie/machine-learning/semantic-search/ rel=canonical><link href=../bert4rec/ rel=prev><link href=../evaluation/ rel=next><link rel=icon href=../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.20"><title>Semantic Search - Movie Genie Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.e53b48f4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#semantic-search-architecture-mathematical-foundations-and-implementation-guide class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Movie Genie Documentation" class="md-header__button md-logo" aria-label="Movie Genie Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V4z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Movie Genie Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Semantic Search </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/your-username/movie-genie title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> movie-genie </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../index.md class=md-tabs__link> Machine Learning </a> </li> <li class=md-tabs__item> <a href=../../data-pipeline/index.md class=md-tabs__link> Data Pipeline </a> </li> <li class=md-tabs__item> <a href=../../backend-frontend/index.md class=md-tabs__link> Backend & Frontend </a> </li> <li class=md-tabs__item> <a href=../../deployment/index.md class=md-tabs__link> Deployment </a> </li> <li class=md-tabs__item> <a href=../../configuration/index.md class=md-tabs__link> Configuration </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/index.md class=md-tabs__link> Troubleshooting </a> </li> <li class=md-tabs__item> <a href=../../reference/index.md class=md-tabs__link> Reference </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Movie Genie Documentation" class="md-nav__button md-logo" aria-label="Movie Genie Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V4z"/></svg> </a> Movie Genie Documentation </label> <div class=md-nav__source> <a href=https://github.com/your-username/movie-genie title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> movie-genie </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Machine Learning </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Machine Learning </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.md class=md-nav__link> <span class=md-ellipsis> None </span> </a> </li> <li class=md-nav__item> <a href=../models-overview/ class=md-nav__link> <span class=md-ellipsis> Models Overview </span> </a> </li> <li class=md-nav__item> <a href=../bert4rec/ class=md-nav__link> <span class=md-ellipsis> BERT4Rec </span> </a> </li> <li class=md-nav__item> <a href=../two-tower.md class=md-nav__link> <span class=md-ellipsis> Two-Tower </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Semantic Search </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Semantic Search </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#executive-summary class=md-nav__link> <span class=md-ellipsis> Executive Summary </span> </a> </li> <li class=md-nav__item> <a href=#problem-definition-and-mathematical-formulation class=md-nav__link> <span class=md-ellipsis> Problem Definition and Mathematical Formulation </span> </a> <nav class=md-nav aria-label="Problem Definition and Mathematical Formulation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-semantic-search-challenge class=md-nav__link> <span class=md-ellipsis> The Semantic Search Challenge </span> </a> </li> <li class=md-nav__item> <a href=#embedding-space-formulation class=md-nav__link> <span class=md-ellipsis> Embedding Space Formulation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#architecture-design-and-implementation-strategy class=md-nav__link> <span class=md-ellipsis> Architecture Design and Implementation Strategy </span> </a> <nav class=md-nav aria-label="Architecture Design and Implementation Strategy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system-components-overview class=md-nav__link> <span class=md-ellipsis> System Components Overview </span> </a> </li> <li class=md-nav__item> <a href=#query-encoding-architecture class=md-nav__link> <span class=md-ellipsis> Query Encoding Architecture </span> </a> </li> <li class=md-nav__item> <a href=#text-preprocessing-pipeline class=md-nav__link> <span class=md-ellipsis> Text Preprocessing Pipeline </span> </a> </li> <li class=md-nav__item> <a href=#movie-embedding-integration class=md-nav__link> <span class=md-ellipsis> Movie Embedding Integration </span> </a> </li> <li class=md-nav__item> <a href=#similarity-computation-and-ranking class=md-nav__link> <span class=md-ellipsis> Similarity Computation and Ranking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mathematical-properties-and-theoretical-foundations class=md-nav__link> <span class=md-ellipsis> Mathematical Properties and Theoretical Foundations </span> </a> <nav class=md-nav aria-label="Mathematical Properties and Theoretical Foundations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#semantic-space-geometry class=md-nav__link> <span class=md-ellipsis> Semantic Space Geometry </span> </a> </li> <li class=md-nav__item> <a href=#query-document-alignment class=md-nav__link> <span class=md-ellipsis> Query-Document Alignment </span> </a> </li> <li class=md-nav__item> <a href=#dimensionality-and-representation-capacity class=md-nav__link> <span class=md-ellipsis> Dimensionality and Representation Capacity </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration-driven-design-philosophy class=md-nav__link> <span class=md-ellipsis> Configuration-Driven Design Philosophy </span> </a> <nav class=md-nav aria-label="Configuration-Driven Design Philosophy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#separation-of-algorithm-and-parameters class=md-nav__link> <span class=md-ellipsis> Separation of Algorithm and Parameters </span> </a> </li> <li class=md-nav__item> <a href=#progressive-complexity-management class=md-nav__link> <span class=md-ellipsis> Progressive Complexity Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#integration-with-existing-pipeline-architecture class=md-nav__link> <span class=md-ellipsis> Integration with Existing Pipeline Architecture </span> </a> <nav class=md-nav aria-label="Integration with Existing Pipeline Architecture"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dvc-pipeline-extension class=md-nav__link> <span class=md-ellipsis> DVC Pipeline Extension </span> </a> </li> <li class=md-nav__item> <a href=#feature-engineering-reuse class=md-nav__link> <span class=md-ellipsis> Feature Engineering Reuse </span> </a> </li> <li class=md-nav__item> <a href=#data-consistency-and-quality class=md-nav__link> <span class=md-ellipsis> Data Consistency and Quality </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-characteristics-and-optimization class=md-nav__link> <span class=md-ellipsis> Performance Characteristics and Optimization </span> </a> <nav class=md-nav aria-label="Performance Characteristics and Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#computational-complexity-analysis class=md-nav__link> <span class=md-ellipsis> Computational Complexity Analysis </span> </a> </li> <li class=md-nav__item> <a href=#caching-and-memory-optimization class=md-nav__link> <span class=md-ellipsis> Caching and Memory Optimization </span> </a> </li> <li class=md-nav__item> <a href=#scalability-considerations class=md-nav__link> <span class=md-ellipsis> Scalability Considerations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#evaluation-framework-and-quality-metrics class=md-nav__link> <span class=md-ellipsis> Evaluation Framework and Quality Metrics </span> </a> <nav class=md-nav aria-label="Evaluation Framework and Quality Metrics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#search-quality-assessment class=md-nav__link> <span class=md-ellipsis> Search Quality Assessment </span> </a> </li> <li class=md-nav__item> <a href=#systematic-evaluation-approach class=md-nav__link> <span class=md-ellipsis> Systematic Evaluation Approach </span> </a> </li> <li class=md-nav__item> <a href=#continuous-quality-monitoring class=md-nav__link> <span class=md-ellipsis> Continuous Quality Monitoring </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#production-deployment-considerations class=md-nav__link> <span class=md-ellipsis> Production Deployment Considerations </span> </a> <nav class=md-nav aria-label="Production Deployment Considerations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system-architecture-requirements class=md-nav__link> <span class=md-ellipsis> System Architecture Requirements </span> </a> </li> <li class=md-nav__item> <a href=#integration-with-existing-systems class=md-nav__link> <span class=md-ellipsis> Integration with Existing Systems </span> </a> </li> <li class=md-nav__item> <a href=#deployment-and-maintenance class=md-nav__link> <span class=md-ellipsis> Deployment and Maintenance </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#future-enhancements-and-research-directions class=md-nav__link> <span class=md-ellipsis> Future Enhancements and Research Directions </span> </a> <nav class=md-nav aria-label="Future Enhancements and Research Directions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced-query-understanding class=md-nav__link> <span class=md-ellipsis> Advanced Query Understanding </span> </a> </li> <li class=md-nav__item> <a href=#personalization-integration class=md-nav__link> <span class=md-ellipsis> Personalization Integration </span> </a> </li> <li class=md-nav__item> <a href=#performance-and-scale-optimization class=md-nav__link> <span class=md-ellipsis> Performance and Scale Optimization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../evaluation/ class=md-nav__link> <span class=md-ellipsis> Model Evaluation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../data-pipeline/index.md class=md-nav__link> <span class=md-ellipsis> Data Pipeline </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../backend-frontend/index.md class=md-nav__link> <span class=md-ellipsis> Backend & Frontend </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../deployment/index.md class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../configuration/index.md class=md-nav__link> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../troubleshooting/index.md class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../reference/index.md class=md-nav__link> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#executive-summary class=md-nav__link> <span class=md-ellipsis> Executive Summary </span> </a> </li> <li class=md-nav__item> <a href=#problem-definition-and-mathematical-formulation class=md-nav__link> <span class=md-ellipsis> Problem Definition and Mathematical Formulation </span> </a> <nav class=md-nav aria-label="Problem Definition and Mathematical Formulation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-semantic-search-challenge class=md-nav__link> <span class=md-ellipsis> The Semantic Search Challenge </span> </a> </li> <li class=md-nav__item> <a href=#embedding-space-formulation class=md-nav__link> <span class=md-ellipsis> Embedding Space Formulation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#architecture-design-and-implementation-strategy class=md-nav__link> <span class=md-ellipsis> Architecture Design and Implementation Strategy </span> </a> <nav class=md-nav aria-label="Architecture Design and Implementation Strategy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system-components-overview class=md-nav__link> <span class=md-ellipsis> System Components Overview </span> </a> </li> <li class=md-nav__item> <a href=#query-encoding-architecture class=md-nav__link> <span class=md-ellipsis> Query Encoding Architecture </span> </a> </li> <li class=md-nav__item> <a href=#text-preprocessing-pipeline class=md-nav__link> <span class=md-ellipsis> Text Preprocessing Pipeline </span> </a> </li> <li class=md-nav__item> <a href=#movie-embedding-integration class=md-nav__link> <span class=md-ellipsis> Movie Embedding Integration </span> </a> </li> <li class=md-nav__item> <a href=#similarity-computation-and-ranking class=md-nav__link> <span class=md-ellipsis> Similarity Computation and Ranking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mathematical-properties-and-theoretical-foundations class=md-nav__link> <span class=md-ellipsis> Mathematical Properties and Theoretical Foundations </span> </a> <nav class=md-nav aria-label="Mathematical Properties and Theoretical Foundations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#semantic-space-geometry class=md-nav__link> <span class=md-ellipsis> Semantic Space Geometry </span> </a> </li> <li class=md-nav__item> <a href=#query-document-alignment class=md-nav__link> <span class=md-ellipsis> Query-Document Alignment </span> </a> </li> <li class=md-nav__item> <a href=#dimensionality-and-representation-capacity class=md-nav__link> <span class=md-ellipsis> Dimensionality and Representation Capacity </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration-driven-design-philosophy class=md-nav__link> <span class=md-ellipsis> Configuration-Driven Design Philosophy </span> </a> <nav class=md-nav aria-label="Configuration-Driven Design Philosophy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#separation-of-algorithm-and-parameters class=md-nav__link> <span class=md-ellipsis> Separation of Algorithm and Parameters </span> </a> </li> <li class=md-nav__item> <a href=#progressive-complexity-management class=md-nav__link> <span class=md-ellipsis> Progressive Complexity Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#integration-with-existing-pipeline-architecture class=md-nav__link> <span class=md-ellipsis> Integration with Existing Pipeline Architecture </span> </a> <nav class=md-nav aria-label="Integration with Existing Pipeline Architecture"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dvc-pipeline-extension class=md-nav__link> <span class=md-ellipsis> DVC Pipeline Extension </span> </a> </li> <li class=md-nav__item> <a href=#feature-engineering-reuse class=md-nav__link> <span class=md-ellipsis> Feature Engineering Reuse </span> </a> </li> <li class=md-nav__item> <a href=#data-consistency-and-quality class=md-nav__link> <span class=md-ellipsis> Data Consistency and Quality </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-characteristics-and-optimization class=md-nav__link> <span class=md-ellipsis> Performance Characteristics and Optimization </span> </a> <nav class=md-nav aria-label="Performance Characteristics and Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#computational-complexity-analysis class=md-nav__link> <span class=md-ellipsis> Computational Complexity Analysis </span> </a> </li> <li class=md-nav__item> <a href=#caching-and-memory-optimization class=md-nav__link> <span class=md-ellipsis> Caching and Memory Optimization </span> </a> </li> <li class=md-nav__item> <a href=#scalability-considerations class=md-nav__link> <span class=md-ellipsis> Scalability Considerations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#evaluation-framework-and-quality-metrics class=md-nav__link> <span class=md-ellipsis> Evaluation Framework and Quality Metrics </span> </a> <nav class=md-nav aria-label="Evaluation Framework and Quality Metrics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#search-quality-assessment class=md-nav__link> <span class=md-ellipsis> Search Quality Assessment </span> </a> </li> <li class=md-nav__item> <a href=#systematic-evaluation-approach class=md-nav__link> <span class=md-ellipsis> Systematic Evaluation Approach </span> </a> </li> <li class=md-nav__item> <a href=#continuous-quality-monitoring class=md-nav__link> <span class=md-ellipsis> Continuous Quality Monitoring </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#production-deployment-considerations class=md-nav__link> <span class=md-ellipsis> Production Deployment Considerations </span> </a> <nav class=md-nav aria-label="Production Deployment Considerations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system-architecture-requirements class=md-nav__link> <span class=md-ellipsis> System Architecture Requirements </span> </a> </li> <li class=md-nav__item> <a href=#integration-with-existing-systems class=md-nav__link> <span class=md-ellipsis> Integration with Existing Systems </span> </a> </li> <li class=md-nav__item> <a href=#deployment-and-maintenance class=md-nav__link> <span class=md-ellipsis> Deployment and Maintenance </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#future-enhancements-and-research-directions class=md-nav__link> <span class=md-ellipsis> Future Enhancements and Research Directions </span> </a> <nav class=md-nav aria-label="Future Enhancements and Research Directions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced-query-understanding class=md-nav__link> <span class=md-ellipsis> Advanced Query Understanding </span> </a> </li> <li class=md-nav__item> <a href=#personalization-integration class=md-nav__link> <span class=md-ellipsis> Personalization Integration </span> </a> </li> <li class=md-nav__item> <a href=#performance-and-scale-optimization class=md-nav__link> <span class=md-ellipsis> Performance and Scale Optimization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/your-username/movie-genie/edit/main/docs/machine-learning/semantic-search.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/your-username/movie-genie/raw/main/docs/machine-learning/semantic-search.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=semantic-search-architecture-mathematical-foundations-and-implementation-guide>Semantic Search Architecture: Mathematical Foundations and Implementation Guide<a class=headerlink href=#semantic-search-architecture-mathematical-foundations-and-implementation-guide title="Permanent link">&para;</a></h1> <p><em>A comprehensive technical reference for natural language movie discovery systems</em></p> <h2 id=executive-summary>Executive Summary<a class=headerlink href=#executive-summary title="Permanent link">&para;</a></h2> <p>The semantic search system provides natural language query capabilities that enable users to discover movies through conversational expressions of their interests. This document details the mathematical foundations, architectural decisions, and implementation strategies for a semantic search engine designed for the Movie Genie recommendation system, leveraging existing EmbeddingGemma text representations for consistent query-document matching.</p> <p>Our implementation addresses the fundamental challenge of bridging human language and mathematical similarity computation. The system maps user queries like "dark sci-fi movies about artificial intelligence" into the same 768-dimensional semantic space as movie content representations, enabling precise relevance matching that understands thematic concepts beyond keyword matching.</p> <p>The resulting architecture achieves sub-second query processing latency while maintaining semantic understanding quality through configuration-driven design that enables systematic experimentation with different embedding models and preprocessing strategies.</p> <h2 id=problem-definition-and-mathematical-formulation>Problem Definition and Mathematical Formulation<a class=headerlink href=#problem-definition-and-mathematical-formulation title="Permanent link">&para;</a></h2> <h3 id=the-semantic-search-challenge>The Semantic Search Challenge<a class=headerlink href=#the-semantic-search-challenge title="Permanent link">&para;</a></h3> <p>Traditional movie discovery relies on explicit filtering through genre categories, release dates, or cast information. Users must translate their nuanced preferences into rigid categorical constraints. However, human movie preferences involve complex thematic concepts, mood associations, and stylistic elements that resist simple categorization.</p> <p>Consider the query "movies about questioning reality with philosophical depth." This expression combines thematic content (reality questioning), narrative sophistication (philosophical depth), and implicit quality expectations that cannot be captured through conventional metadata filtering. The semantic search challenge involves understanding such complex queries and matching them against movie content that satisfies the expressed intent.</p> <p>Let <span class=arithmatex>\(\mathcal{Q}\)</span> represent the space of possible natural language queries and <span class=arithmatex>\(\mathcal{D}\)</span> represent the space of movie documents with rich content descriptions. The semantic search problem requires learning a relevance function:</p> <div class=arithmatex>\[\text{relevance}: \mathcal{Q} \times \mathcal{D} \rightarrow \mathbb{R}\]</div> <p>that assigns high scores to query-document pairs where the document satisfies the information need expressed in the query, even when they use different vocabulary to describe similar concepts.</p> <h3 id=embedding-space-formulation>Embedding Space Formulation<a class=headerlink href=#embedding-space-formulation title="Permanent link">&para;</a></h3> <p>Semantic search solves the vocabulary mismatch problem by mapping both queries and documents into a shared embedding space where semantic similarity corresponds to geometric proximity. This approach transforms the relevance computation into a similarity calculation in learned representation space.</p> <p>Let <span class=arithmatex>\(\phi_q: \mathcal{Q} \rightarrow \mathbb{R}^d\)</span> represent a query encoding function and <span class=arithmatex>\(\phi_d: \mathcal{D} \rightarrow \mathbb{R}^d\)</span> represent a document encoding function. The semantic relevance becomes:</p> <div class=arithmatex>\[\text{relevance}(q, d) = \text{sim}(\phi_q(q), \phi_d(d))\]</div> <p>where <span class=arithmatex>\(\text{sim}(\cdot, \cdot)\)</span> represents a similarity metric, typically cosine similarity for normalized embeddings:</p> <div class=arithmatex>\[\text{sim}(\mathbf{u}, \mathbf{v}) = \frac{\mathbf{u}^T \mathbf{v}}{|\mathbf{u}| |\mathbf{v}|}\]</div> <p>The key insight involves ensuring that <span class=arithmatex>\(\phi_q\)</span> and <span class=arithmatex>\(\phi_d\)</span> map semantically related queries and documents to nearby points in the embedding space, enabling effective similarity-based retrieval.</p> <h2 id=architecture-design-and-implementation-strategy>Architecture Design and Implementation Strategy<a class=headerlink href=#architecture-design-and-implementation-strategy title="Permanent link">&para;</a></h2> <h3 id=system-components-overview>System Components Overview<a class=headerlink href=#system-components-overview title="Permanent link">&para;</a></h3> <p>The semantic search architecture consists of three primary components that work together to transform natural language queries into ranked movie results:</p> <ol> <li><strong>Query Encoder</strong>: Maps natural language queries to 768-dimensional semantic vectors</li> <li><strong>Movie Embedding Loader</strong>: Organizes existing EmbeddingGemma movie representations for fast similarity computation</li> <li><strong>Semantic Search Engine</strong>: Orchestrates the complete pipeline from query processing to result ranking</li> </ol> <p>This modular design enables independent development and testing of each component while maintaining clean interfaces between system layers.</p> <h3 id=query-encoding-architecture>Query Encoding Architecture<a class=headerlink href=#query-encoding-architecture title="Permanent link">&para;</a></h3> <p>The query encoder addresses the critical challenge of mapping arbitrary user text into the same semantic space as movie embeddings. Our implementation leverages EmbeddingGemma for consistency with existing movie representations, ensuring semantic alignment between query and document encodings.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>class</span><span class=w> </span><span class=nc>QueryEncoder</span><span class=p>:</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;configs/semantic_search.yaml&quot;</span><span class=p>):</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>model_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;model_name&#39;</span><span class=p>]</span>  <span class=c1># google/embeddinggemma-300M</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>        <span class=c1># Initialize text embedder using existing pipeline infrastructure</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>embedder</span> <span class=o>=</span> <span class=n>TextEmbedder</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>model_name</span><span class=p>)</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>encoding_dimension</span> <span class=o>=</span> <span class=mi>768</span>  <span class=c1># EmbeddingGemma output dimension</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        <span class=c1># Query cache for performance optimization</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>        <span class=bp>self</span><span class=o>.</span><span class=n>query_cache</span> <span class=o>=</span> <span class=p>{}</span>
</span></code></pre></div> <p>The mathematical operation performed by the query encoder involves several preprocessing steps followed by embedding generation:</p> <div class=arithmatex>\[\mathbf{e}_q = \text{EmbeddingGemma}(\text{preprocess}(q))\]</div> <p>where preprocessing includes text normalization, abbreviation expansion, and whitespace handling to improve encoding consistency.</p> <h3 id=text-preprocessing-pipeline>Text Preprocessing Pipeline<a class=headerlink href=#text-preprocessing-pipeline title="Permanent link">&para;</a></h3> <p>Query preprocessing normalizes the variability in human input while preserving semantic content. The preprocessing pipeline applies several transformations:</p> <p><strong>Text Normalization</strong>: Converts queries to lowercase and normalizes whitespace to create consistent input format for the embedding model.</p> <p><strong>Abbreviation Expansion</strong>: Maps domain-specific abbreviations to full terms using configurable mappings: - "sci-fi" → "science fiction" - "rom-com" → "romantic comedy"<br> - "ai" → "artificial intelligence"</p> <p>This expansion bridges vocabulary gaps between user queries and movie descriptions, improving semantic matching accuracy.</p> <p><strong>Cache Integration</strong>: Frequently used queries get cached to eliminate redundant encoding computation, reducing response latency for common searches.</p> <p>The complete preprocessing function implements:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>def</span><span class=w> </span><span class=nf>_preprocess_query</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>processed</span> <span class=o>=</span> <span class=n>query</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>processed</span> <span class=o>=</span> <span class=s1>&#39; &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>processed</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>  <span class=c1># Normalize whitespace</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>processed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_expand_abbreviations</span><span class=p>(</span><span class=n>processed</span><span class=p>)</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=k>return</span> <span class=n>processed</span>
</span></code></pre></div> <h3 id=movie-embedding-integration>Movie Embedding Integration<a class=headerlink href=#movie-embedding-integration title="Permanent link">&para;</a></h3> <p>The movie embedding loader extracts and organizes the existing EmbeddingGemma text embeddings computed during content feature engineering. This integration ensures semantic consistency between movie representations used for search and those used for recommendation.</p> <p>The loader handles practical data quality challenges: - Missing embeddings for some movies - Different embedding storage formats in parquet files - Memory-efficient loading of large embedding matrices</p> <p>The mathematical foundation involves organizing movie embeddings into a matrix <span class=arithmatex>\(\mathbf{M} \in \mathbb{R}^{n \times 768}\)</span> where each row represents one movie's semantic embedding. This matrix gets pre-normalized for cosine similarity computation:</p> <div class=arithmatex>\[\mathbf{M}_{\text{norm}} = \frac{\mathbf{M}}{||\mathbf{M}||_2}\]</div> <p>enabling efficient similarity calculation through matrix multiplication.</p> <h3 id=similarity-computation-and-ranking>Similarity Computation and Ranking<a class=headerlink href=#similarity-computation-and-ranking title="Permanent link">&para;</a></h3> <p>The core search operation computes semantic similarity between the encoded query vector and all movie embedding vectors:</p> <div class=arithmatex>\[\mathbf{scores} = \mathbf{M}_{\text{norm}} \mathbf{e}_q\]</div> <p>This matrix-vector multiplication produces similarity scores for all movies simultaneously, with computational complexity <span class=arithmatex>\(O(nd)\)</span> where <span class=arithmatex>\(n\)</span> represents the number of movies and <span class=arithmatex>\(d\)</span> represents the embedding dimension.</p> <p>The ranking process selects the top-<span class=arithmatex>\(k\)</span> movies with highest similarity scores:</p> <div class=arithmatex>\[\text{results} = \text{TopK}(\mathbf{scores}, k)\]</div> <p>Results include both similarity scores and movie metadata for presentation to users.</p> <h2 id=mathematical-properties-and-theoretical-foundations>Mathematical Properties and Theoretical Foundations<a class=headerlink href=#mathematical-properties-and-theoretical-foundations title="Permanent link">&para;</a></h2> <h3 id=semantic-space-geometry>Semantic Space Geometry<a class=headerlink href=#semantic-space-geometry title="Permanent link">&para;</a></h3> <p>The learned embedding space exhibits geometric properties that enable semantic reasoning. Movies exploring similar themes cluster together in the 768-dimensional space, while the query encoding process maps related queries near relevant movie clusters.</p> <p>The cosine similarity metric provides several theoretical advantages for semantic search:</p> <ol> <li><strong>Scale Invariance</strong>: Similarity depends on direction rather than magnitude, focusing on semantic content rather than text length</li> <li><strong>Bounded Scores</strong>: Cosine similarity ranges from -1 to 1, providing interpretable relevance measures</li> <li><strong>Efficient Computation</strong>: Normalized embeddings enable similarity calculation through simple dot products</li> </ol> <p>The geometric interpretation involves understanding that small angles between embedding vectors correspond to high semantic similarity, while large angles indicate semantic divergence.</p> <h3 id=query-document-alignment>Query-Document Alignment<a class=headerlink href=#query-document-alignment title="Permanent link">&para;</a></h3> <p>The effectiveness of semantic search depends critically on the alignment between query and document representations. Using EmbeddingGemma for both encoding tasks ensures this alignment by leveraging the same learned semantic understanding.</p> <p>Consider the mathematical relationship between query concepts and movie themes. A query about "artificial intelligence" should map to a region of embedding space that contains movies like "Ex Machina," "Her," and "Blade Runner" even though these movies might describe AI themes using different vocabulary ("consciousness," "synthetic beings," "replicants").</p> <p>The alignment property can be expressed mathematically as:</p> <div class=arithmatex>\[\text{sim}(\phi_q(\text{"AI movies"}), \phi_d(\text{movie about synthetic consciousness})) &gt; \tau\]</div> <p>where <span class=arithmatex>\(\tau\)</span> represents a threshold for semantic relatedness.</p> <h3 id=dimensionality-and-representation-capacity>Dimensionality and Representation Capacity<a class=headerlink href=#dimensionality-and-representation-capacity title="Permanent link">&para;</a></h3> <p>The 768-dimensional embedding space provides sufficient capacity to capture the nuanced semantic relationships relevant to movie recommendation. Each dimension can be interpreted as capturing some aspect of semantic meaning, though the specific meaning of individual dimensions remains opaque.</p> <p>The high dimensionality enables the representation of complex conceptual combinations. A query combining multiple constraints ("dark atmospheric sci-fi with philosophical themes") maps to a specific region of the embedding space that balances all specified attributes.</p> <h2 id=configuration-driven-design-philosophy>Configuration-Driven Design Philosophy<a class=headerlink href=#configuration-driven-design-philosophy title="Permanent link">&para;</a></h2> <h3 id=separation-of-algorithm-and-parameters>Separation of Algorithm and Parameters<a class=headerlink href=#separation-of-algorithm-and-parameters title="Permanent link">&para;</a></h3> <p>The semantic search implementation separates algorithmic logic from parameter choices through comprehensive configuration management. This design enables systematic experimentation with different models, preprocessing strategies, and similarity thresholds without requiring code modifications.</p> <p>The configuration structure covers essential system parameters:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Model and encoding parameters</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=nt>model_name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;google/embeddinggemma-300M&quot;</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=nt>normalize_vectors</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=nt>cache_size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=c1># Data paths consistent with existing pipeline</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=nt>movies_path</span><span class=p>:</span><span class=w> </span><span class=s>&quot;data/processed/content_features.parquet&quot;</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=c1># Search behavior parameters</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=nt>default_results</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=nt>max_results</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=c1># Text preprocessing options</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=nt>abbreviations</span><span class=p>:</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>  </span><span class=s>&quot;sci-fi&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;science</span><span class=nv> </span><span class=s>fiction&quot;</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=w>  </span><span class=s>&quot;rom-com&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;romantic</span><span class=nv> </span><span class=s>comedy&quot;</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=w>  </span><span class=s>&quot;ai&quot;</span><span class="p p-Indicator">:</span><span class=w> </span><span class=s>&quot;artificial</span><span class=nv> </span><span class=s>intelligence&quot;</span>
</span></code></pre></div> <p>This configuration approach demonstrates several software engineering principles:</p> <p><strong>Single Source of Truth</strong>: All behavioral parameters exist in one location, eliminating inconsistencies between different parts of the system.</p> <p><strong>Environment Consistency</strong>: The same configuration file works across development, testing, and production environments, reducing deployment complexity.</p> <p><strong>Experimentation Support</strong>: Parameter modifications require only configuration changes, not code rebuilds or redeployment.</p> <h3 id=progressive-complexity-management>Progressive Complexity Management<a class=headerlink href=#progressive-complexity-management title="Permanent link">&para;</a></h3> <p>The simplified configuration structure follows the principle of progressive complexity: implement essential functionality with minimal configuration, then add parameters as specific requirements emerge.</p> <p>This approach contrasts with premature optimization where systems include extensive configuration options for features that may never be needed. The current configuration covers 100% of implemented functionality while remaining understandable and maintainable.</p> <p>Future extensions can add configuration sections for advanced indexing methods, detailed evaluation metrics, or performance optimization parameters when specific use cases require these capabilities.</p> <h2 id=integration-with-existing-pipeline-architecture>Integration with Existing Pipeline Architecture<a class=headerlink href=#integration-with-existing-pipeline-architecture title="Permanent link">&para;</a></h2> <h3 id=dvc-pipeline-extension>DVC Pipeline Extension<a class=headerlink href=#dvc-pipeline-extension title="Permanent link">&para;</a></h3> <p>The semantic search system integrates seamlessly with the existing DVC pipeline by consuming processed movie data and producing search capabilities as a new system component:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=nt>stages</span><span class=p>:</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>  </span><span class=c1># Existing content feature processing</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>  </span><span class=nt>content_features</span><span class=p>:</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">python scripts/extract_tmdb_features.py</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=nt>outs</span><span class=p>:</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data/processed/content_features.parquet</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>  </span><span class=c1># Semantic search integration (future)</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>  </span><span class=nt>semantic_search_index</span><span class=p>:</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>    </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">python scripts/build_search_index.py</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>    </span><span class=nt>deps</span><span class=p>:</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data/processed/content_features.parquet</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">configs/semantic_search.yaml</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=w>    </span><span class=nt>outs</span><span class=p>:</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">models/semantic_search/search_index.pkl</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=w>    </span><span class=nt>metrics</span><span class=p>:</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">metrics/search_performance.json</span>
</span></code></pre></div> <p>This integration maintains pipeline reproducibility while adding new discovery capabilities to the movie recommendation system.</p> <h3 id=feature-engineering-reuse>Feature Engineering Reuse<a class=headerlink href=#feature-engineering-reuse title="Permanent link">&para;</a></h3> <p>The semantic search system leverages the comprehensive feature engineering developed during earlier pipeline stages. The EmbeddingGemma text embeddings computed for movie content features serve dual purposes:</p> <ol> <li><strong>Content-based similarity</strong> for recommendation systems</li> <li><strong>Semantic matching</strong> for natural language search queries</li> </ol> <p>This reuse demonstrates the value of careful feature engineering that creates versatile representations suitable for multiple downstream applications. The same movie embeddings that enable content-based recommendation also enable semantic search without additional processing overhead.</p> <h3 id=data-consistency-and-quality>Data Consistency and Quality<a class=headerlink href=#data-consistency-and-quality title="Permanent link">&para;</a></h3> <p>The semantic search implementation handles practical data quality challenges that arise in production ML systems:</p> <p><strong>Missing Embeddings</strong>: Some movies lack text embeddings due to insufficient content metadata. The system handles these gracefully by excluding them from search results rather than failing entirely.</p> <p><strong>Format Variations</strong>: Parquet serialization might store embeddings in different formats (lists, arrays, strings). The loading process handles multiple formats robustly.</p> <p><strong>Memory Management</strong>: Large embedding matrices require careful memory management for efficient loading and similarity computation.</p> <h2 id=performance-characteristics-and-optimization>Performance Characteristics and Optimization<a class=headerlink href=#performance-characteristics-and-optimization title="Permanent link">&para;</a></h2> <h3 id=computational-complexity-analysis>Computational Complexity Analysis<a class=headerlink href=#computational-complexity-analysis title="Permanent link">&para;</a></h3> <p>The semantic search system exhibits predictable computational complexity characteristics that scale with catalog size and query complexity:</p> <p><strong>Query Encoding</strong>: <span class=arithmatex>\(O(L \cdot d)\)</span> where <span class=arithmatex>\(L\)</span> represents query length in tokens and <span class=arithmatex>\(d\)</span> represents embedding dimension. For typical queries, this operation completes in milliseconds.</p> <p><strong>Similarity Computation</strong>: <span class=arithmatex>\(O(n \cdot d)\)</span> where <span class=arithmatex>\(n\)</span> represents the number of movies in the catalog. For 10,000 movies and 768-dimensional embeddings, this requires approximately 7.7 million floating-point operations.</p> <p><strong>Result Ranking</strong>: <span class=arithmatex>\(O(n \log k)\)</span> for selecting top-<span class=arithmatex>\(k\)</span> results from <span class=arithmatex>\(n\)</span> similarity scores using efficient sorting algorithms.</p> <p>The total search latency remains well below acceptable thresholds for interactive applications, typically completing within 100-200 milliseconds for catalogs containing tens of thousands of movies.</p> <h3 id=caching-and-memory-optimization>Caching and Memory Optimization<a class=headerlink href=#caching-and-memory-optimization title="Permanent link">&para;</a></h3> <p>The system employs several optimization strategies to minimize computational overhead:</p> <p><strong>Query Caching</strong>: Frequently used queries get cached to eliminate redundant encoding computation. Cache size management prevents unbounded memory growth while maximizing cache hit rates.</p> <p><strong>Embedding Precomputation</strong>: Movie embeddings get normalized once during system initialization rather than during each query, reducing per-query computation.</p> <p><strong>Memory-Efficient Loading</strong>: Large embedding matrices are loaded incrementally and stored in efficient NumPy arrays to minimize memory footprint.</p> <h3 id=scalability-considerations>Scalability Considerations<a class=headerlink href=#scalability-considerations title="Permanent link">&para;</a></h3> <p>The current implementation scales effectively to catalogs containing hundreds of thousands of movies. For larger catalogs or higher query volumes, several optimization approaches become relevant:</p> <p><strong>Approximate Similarity Search</strong>: Libraries like FAISS enable approximate nearest neighbor search with sub-linear computational complexity, trading slight accuracy for significant speed improvements.</p> <p><strong>Distributed Computation</strong>: Similarity calculations can be distributed across multiple compute nodes for extremely large catalogs.</p> <p><strong>Indexing Strategies</strong>: Advanced indexing methods can reduce search complexity through hierarchical clustering or learned indexes.</p> <h2 id=evaluation-framework-and-quality-metrics>Evaluation Framework and Quality Metrics<a class=headerlink href=#evaluation-framework-and-quality-metrics title="Permanent link">&para;</a></h2> <h3 id=search-quality-assessment>Search Quality Assessment<a class=headerlink href=#search-quality-assessment title="Permanent link">&para;</a></h3> <p>Evaluating semantic search quality requires different metrics than traditional recommendation evaluation. Search evaluation focuses on relevance, precision, and user satisfaction rather than prediction accuracy or collaborative filtering effectiveness.</p> <p><strong>Relevance Metrics</strong>: Measure whether search results actually match user intent expressed in natural language queries.</p> <p><strong>Diversity Metrics</strong>: Evaluate whether results cover different aspects of complex queries rather than focusing narrowly on single interpretations.</p> <p><strong>User Satisfaction</strong>: Assess whether users find search results helpful for movie discovery tasks.</p> <h3 id=systematic-evaluation-approach>Systematic Evaluation Approach<a class=headerlink href=#systematic-evaluation-approach title="Permanent link">&para;</a></h3> <p>A comprehensive evaluation framework includes multiple assessment dimensions:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>class</span><span class=w> </span><span class=nc>SearchEvaluator</span><span class=p>:</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=k>def</span><span class=w> </span><span class=nf>evaluate_query_set</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>queries</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>10</span><span class=p>):</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Evaluate search quality across diverse query types.&quot;&quot;&quot;</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>        <span class=n>results</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>            <span class=s1>&#39;semantic_queries&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_evaluate_thematic_queries</span><span class=p>(),</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>            <span class=s1>&#39;similarity_queries&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_evaluate_similarity_queries</span><span class=p>(),</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>            <span class=s1>&#39;factual_queries&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_evaluate_factual_queries</span><span class=p>(),</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>            <span class=s1>&#39;aggregate_metrics&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_compute_aggregate_metrics</span><span class=p>()</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>        <span class=p>}</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>        <span class=k>return</span> <span class=n>results</span>
</span></code></pre></div> <p>This evaluation approach enables systematic assessment of search quality across different query types and use cases.</p> <h3 id=continuous-quality-monitoring>Continuous Quality Monitoring<a class=headerlink href=#continuous-quality-monitoring title="Permanent link">&para;</a></h3> <p>Production semantic search systems require ongoing quality monitoring to identify degradation or opportunities for improvement:</p> <p><strong>Query Analysis</strong>: Understanding what users actually search for versus what the system expects.</p> <p><strong>Result Click-Through Rates</strong>: Measuring whether users find search results sufficiently relevant to explore.</p> <p><strong>Search Abandonment</strong>: Tracking cases where users reformulate queries multiple times, indicating poor initial results.</p> <h2 id=production-deployment-considerations>Production Deployment Considerations<a class=headerlink href=#production-deployment-considerations title="Permanent link">&para;</a></h2> <h3 id=system-architecture-requirements>System Architecture Requirements<a class=headerlink href=#system-architecture-requirements title="Permanent link">&para;</a></h3> <p>Production semantic search deployment requires several infrastructure components:</p> <p><strong>Search API</strong>: RESTful interface accepting natural language queries and returning ranked movie results with metadata.</p> <p><strong>Embedding Serving</strong>: Efficient serving of large embedding matrices with appropriate caching strategies.</p> <p><strong>Configuration Management</strong>: Dynamic configuration updates for experimentation without system restarts.</p> <p><strong>Monitoring and Alerting</strong>: Real-time visibility into search performance, error rates, and quality metrics.</p> <h3 id=integration-with-existing-systems>Integration with Existing Systems<a class=headerlink href=#integration-with-existing-systems title="Permanent link">&para;</a></h3> <p>The semantic search capabilities integrate with existing recommendation infrastructure through well-defined interfaces:</p> <p><strong>Hybrid Search-Recommendation</strong>: Combining semantic search results with personalized ranking based on user interaction history.</p> <p><strong>Content Discovery</strong>: Using semantic search to power content discovery features that help users explore the movie catalog.</p> <p><strong>Query Suggestion</strong>: Leveraging search query patterns to suggest relevant searches to users.</p> <h3 id=deployment-and-maintenance>Deployment and Maintenance<a class=headerlink href=#deployment-and-maintenance title="Permanent link">&para;</a></h3> <p>The configuration-driven design simplifies deployment and maintenance operations:</p> <p><strong>Model Updates</strong>: New embedding models can be deployed through configuration changes rather than code modifications.</p> <p><strong>Parameter Tuning</strong>: Search behavior adjustments require only configuration updates, enabling rapid experimentation.</p> <p><strong>Performance Optimization</strong>: Query caching parameters and similarity thresholds can be adjusted based on production performance data.</p> <h2 id=future-enhancements-and-research-directions>Future Enhancements and Research Directions<a class=headerlink href=#future-enhancements-and-research-directions title="Permanent link">&para;</a></h2> <h3 id=advanced-query-understanding>Advanced Query Understanding<a class=headerlink href=#advanced-query-understanding title="Permanent link">&para;</a></h3> <p>Current implementation handles queries as atomic text units. Future enhancements could include:</p> <p><strong>Intent Classification</strong>: Distinguishing between different types of movie search intents (thematic, similarity-based, factual).</p> <p><strong>Multi-Constraint Queries</strong>: Better handling of queries that combine multiple constraints ("recent sci-fi movies with high ratings").</p> <p><strong>Conversational Context</strong>: Maintaining context across multiple related queries in a search session.</p> <h3 id=personalization-integration>Personalization Integration<a class=headerlink href=#personalization-integration title="Permanent link">&para;</a></h3> <p>Semantic search results could be personalized based on user interaction history:</p> <p><strong>User-Aware Ranking</strong>: Adjusting search result ordering based on individual user preferences learned through recommendation models.</p> <p><strong>Contextual Search</strong>: Considering user's recent viewing history when interpreting ambiguous queries.</p> <p><strong>Preference Learning</strong>: Adapting query understanding based on which search results users find most relevant.</p> <h3 id=performance-and-scale-optimization>Performance and Scale Optimization<a class=headerlink href=#performance-and-scale-optimization title="Permanent link">&para;</a></h3> <p>As the system scales to larger catalogs and higher query volumes, several optimization approaches become relevant:</p> <p><strong>Advanced Indexing</strong>: Implementing approximate nearest neighbor search for sub-linear query processing.</p> <p><strong>Distributed Serving</strong>: Scaling search computation across multiple nodes for extremely large catalogs.</p> <p><strong>Learned Optimization</strong>: Using machine learning to optimize search parameters based on usage patterns.</p> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>The semantic search system provides a mathematically principled approach to natural language movie discovery that leverages existing content representations for consistent semantic understanding. The configuration-driven design enables systematic experimentation while maintaining production readiness.</p> <p>The integration with existing pipeline infrastructure demonstrates how careful architectural planning enables new capabilities without disrupting established workflows. The semantic search functionality complements existing recommendation capabilities by enabling active discovery through natural language queries.</p> <p>Future development can build upon this foundation to create increasingly sophisticated query understanding and personalized search experiences that help users discover movies that match their specific interests and preferences expressed through natural language.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="September 26, 2025 18:54:36 UTC">September 26, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="September 26, 2025 18:54:36 UTC">September 26, 2025</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../bert4rec/ class="md-footer__link md-footer__link--prev" aria-label="Previous: BERT4Rec"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> BERT4Rec </div> </div> </a> <a href=../evaluation/ class="md-footer__link md-footer__link--next" aria-label="Next: Model Evaluation"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Model Evaluation </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Movie Genie </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/your-username/movie-genie target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/movie-genie/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg> </a> <a href=https://twitter.com/your-username target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>